<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì„ ìƒë‹˜ í”„ë¡œí•„ ê´€ë¦¬</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* [Global Reset & Basics] */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f9f9f9; color: #333; }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        /* [Header] */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 30px; background: white; border-bottom: 2px solid #333;
        }
        .logo { font-size: 20px; font-weight: bold; }
        .header-icons i { font-size: 24px; margin-left: 15px; cursor: pointer; }

        /* [Layout Container] */
        .container { display: flex; max-width: 1200px; margin: 0 auto; min-height: calc(100vh - 60px); }

        /* [Left Sidebar] */
        .sidebar {
            width: 280px; background: white; border-right: 1px solid #ddd;
            padding: 30px 20px; text-align: center; display: flex; flex-direction: column;
        }

        /* Profile Section */
        .profile-img {
            width: 100px; height: 100px; background-color: #ddd; border-radius: 50%;
            margin: 0 auto 15px; object-fit: cover;
        }
        .teacher-name { font-size: 22px; font-weight: bold; margin-bottom: 5px; }
        .teacher-email { color: #666; font-size: 14px; margin-bottom: 5px; }
        .teacher-loc { color: #666; font-size: 14px; margin-bottom: 20px; }
        .teacher-loc i { color: #d9534f; margin-right: 5px; }

        .btn-outline {
            display: block; width: 100%; padding: 8px 0; margin-bottom: 10px;
            border: 1px solid #333; border-radius: 20px; font-size: 14px; cursor: pointer; transition: 0.2s;
        }
        .btn-outline:hover { background: #333; color: white; }

        /* Sidebar Menu */
        .menu-section { margin-top: 30px; text-align: left; border-top: 1px solid #eee; padding-top: 20px; }
        .menu-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; }
        .menu-list li { margin-bottom: 15px; font-size: 15px; cursor: pointer; }
        .menu-list li i { width: 25px; margin-right: 5px; color: #555; }

        /* Bottom Buttons */
        .bottom-btns { margin-top: auto; padding-top: 30px; border-top: 1px solid #eee; }

        /* [Right Main Content] */
        .main-content { flex: 1; padding: 40px; background: white; }

        .greeting { font-size: 18px; margin-bottom: 30px; }
        .section-title { font-size: 20px; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; }
        .section-title i { margin-right: 10px; font-size: 24px; }

        /* Dashboard Cards (Performance) */
        .dashboard-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px; }
        .card {
            border: 1px solid #ddd; border-radius: 12px; padding: 25px; text-align: center;
            background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .card-label { font-size: 16px; color: #555; margin-bottom: 10px; }
        .card-value { font-size: 20px; font-weight: bold; }

        /* Request Cards */
        .request-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .req-card { border: 1px solid #ddd; border-radius: 12px; padding: 20px; background: white; }
        .req-name { font-weight: bold; margin-bottom: 10px; font-size: 16px; }
        .req-info { font-size: 13px; color: #555; margin-bottom: 15px; display: flex; align-items: center; }
        .req-info i { margin-right: 6px; color: #d9534f; }
        .req-actions a { font-size: 13px; margin-right: 10px; font-weight: bold; cursor: pointer; }
        .req-accept { color: #333; }
        .req-reject { color: #999; }

        /* Class List */
        .class-list-container { border-top: 1px solid #eee; padding-top: 20px; }
        .class-item { padding: 10px 0; font-size: 15px; display: flex; align-items: center; }
        .status-tag {
            font-weight: bold; margin-right: 10px; padding: 2px 6px; border-radius: 4px; font-size: 12px;
        }
        .status-on { color: #28a745; border: 1px solid #28a745; }
        .status-off { color: #dc3545; border: 1px solid #dc3545; }
        .edit-link { font-size: 12px; color: #888; margin-left: 10px; cursor: pointer; }

    </style>
</head>
<body>

<header>
    <div class="logo">ë¡œê³ </div>
    <div class="header-icons">
        <i class="far fa-bell"></i>
        <i class="far fa-comment-dots"></i>
    </div>
</header>

<div class="container">
    <aside class="sidebar">
        <img th:src="@{/images/profile-placeholder.png}" class="profile-img" alt="í”„ë¡œí•„">

        <h2 class="teacher-name" th:text="${profile.user.name}">ì´ì„ ìƒ</h2>
        <p class="teacher-email">
            <i class="far fa-envelope"></i> <span th:text="${profile.user.email}">teacher@email.com</span>
        </p>
        <p class="teacher-loc">
            <i class="fas fa-map-marker-alt"></i> <span th:text="${profile.location}">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬</span>
        </p>

        <button class="btn-outline" th:onclick="|location.href='@{/profile/teacher/public(id=%{profile.user.id})}'|">ê³µê°œ í”„ë¡œí•„ ë³´ê¸°</button>
        <button class="btn-outline" th:onclick="|location.href='@{/profile/teacher/update(id=%{profile.user.id})}'|">í”„ë¡œí•„ í¸ì§‘</button>

        <div class="menu-section">
            <div class="menu-title">ê´€ë¦¬ ë©”ë‰´</div>
            <ul class="menu-list">
                <li><i class="far fa-calendar-alt"></i> ì‹œê°„í‘œ ì„¤ì •</li>
                <li><i class="fas fa-pencil-alt"></i> ë‚´ ìˆ˜ì—… ëª©ë¡</li>
                <li><i class="far fa-comments"></i> ìˆ˜ê°•ìƒ í›„ê¸°</li>
            </ul>
        </div>

        <div class="bottom-btns">
            <button class="btn-outline">í•™ìƒìœ¼ë¡œ ì „í™˜</button>
            <button class="btn-outline">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </aside>

    <main class="main-content">
        <div class="greeting">
            ğŸ‘‹ ë°˜ê°€ì›Œìš”, <span th:text="${profile.user.name}">ì´ì„ ìƒ</span>ë‹˜!
        </div>

        <section>
            <h3 class="section-title"><i class="fas fa-chart-bar"></i> ì´ë²ˆ ë‹¬ ì„±ê³¼</h3>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-label">ğŸ’° ì˜ˆìƒìˆ˜ìµ</div>
                    <div class="card-value" th:text="${profit}ì›">358,000ì›</div>
                </div>
                <div class="card">
                    <div class="card-label">â­ í‰ì </div>
                    <div class="card-value" th:text="${average + ' / 5.0'}">4.8 / 5.0</div>
                </div>
                <div class="card">
                    <div class="card-label">ğŸ“© ìƒˆ ìš”ì²­</div>
                    <div class="card-value" th:text="${bookings.size() + 'ê±´'}">2ê±´</div>
                </div>
            </div>
        </section>

        <section>
            <h3 class="section-title"><i class="fas fa-bell"></i> ì˜ˆì•½ ìš”ì²­ ê´€ë¦¬</h3>
            <div class="request-grid">
                <div class="req-card" th:each="book : ${bookings}">
                    <div class="req-name" th:text="${book.student.name + ' (' + book.lesson.subjects + ')'}">XXX í•™ìƒ (ì˜ì–´)</div>
                    <div class="req-info">
                        <i class="far fa-calendar-check"></i>
                        <span th:text="${book.schedule.startTime}">12ì›” 25ì¼ 14:00 ì‹ ì²­</span>
                    </div>
                    <div class="req-actions">
                        <a href="#" class="req-accept">ìˆ˜ë½</a> |
                        <a href="#" class="req-reject">ê±°ì ˆ</a>
                    </div>
                </div>
                <div class="req-card" th:if="${bookings == null or bookings.isEmpty()}">
                    <div class="req-name">ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                </div>
            </div>
        </section>

        <section>
            <h3 class="section-title"><i class="fas fa-book-open"></i> ë‚´ ìˆ˜ì—… ëª©ë¡</h3>
            <div class="class-list-container">
                <div class="class-item" th:each="l : ${lessons}">
<!--                        <span class="status-tag"-->
<!--                              th:classappend="${cls.active} ? 'status-on' : 'status-off'"-->
<!--                              th:text="${cls.active} ? 'ON' : 'OFF'">ON</span>-->

                    <span th:text="${l.title}">ì›ë¦¬ íƒêµ¬ ê³¼í•™</span>
                    <span class="edit-link">[ìˆ˜ì •]</span>
                </div>
            </div>
        </section>

    </main>
</div>
</body>
</html>