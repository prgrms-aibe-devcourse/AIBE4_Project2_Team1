<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyLink - 메시지</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --studylink-navy: #001A41;
            --studylink-blue: #2196F3;
            --border-color: #ECEEF2;
            --text-gray: #8E949E;
            --bg-gray: #F8F9FB;
            --icon-green: #5DE18E;
            --icon-dark: #4A4E5A;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-gray);
            overflow: hidden;
        }

        /* --- 상단 헤더 (사진 디자인 반영) --- */
        .main-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 40px; height: 70px; background: #fff;
            border-bottom: 1px solid var(--border-color);
        }
        .header-logo {
            display: flex; align-items: center; gap: 8px;
            font-size: 1.6rem; font-weight: 900; color: var(--studylink-navy);
        }
        /* 사진 속 로고 아이콘 반영 */
        .header-logo i { font-size: 1.8rem; color: var(--studylink-navy); }
        .header-logo span { color: var(--studylink-blue); }
        .logo-dot {
            width: 7px; height: 7px; background-color: var(--icon-green);
            border-radius: 50%; margin-bottom: 15px; margin-left: -3px;
        }

        /* 우측 상단 아이콘: 사진의 얇은 라인 스타일 반영 */
        .header-nav { display: flex; align-items: center; gap: 20px; }
        .header-nav i {
            font-size: 1.4rem;
            color: #333; /* 사진과 같은 진한 회색/검정 계열 */
            font-weight: 300; /* 얇은 두께감 */
            cursor: pointer;
        }

        /* --- 레이아웃 --- */
        .wrapper { display: flex; justify-content: center; align-items: center; height: calc(100vh - 70px); }

        .chat-container {
            display: flex; flex-direction: column;
            width: 95vw; max-width: 1200px; height: 85vh;
            background: #fff; border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            overflow: hidden; border: 1px solid var(--border-color);
        }

        .chat-main { display: flex; flex: 1; overflow: hidden; }

        /* 사이드바 */
        .chat-sidebar {
            width: 320px; border-right: 1px solid var(--border-color);
            display: flex; flex-direction: column;
        }
        .sidebar-search { padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        .sidebar-search input {
            padding: 12px 15px; border: 1px solid var(--border-color);
            border-radius: 8px; outline: none; background: #F9FAFB;
        }
        #btnCreateRoom {
            background-color: var(--studylink-blue); color: white; border: none;
            padding: 12px; border-radius: 8px; cursor: pointer; font-weight: 700;
        }

        .room-list { flex: 1; overflow-y: auto; list-style: none; margin: 0; padding: 0; }
        .room-item {
            display: flex; align-items: center; padding: 15px 20px;
            cursor: pointer; border-bottom: 1px solid #F8F9FA;
        }
        .room-item.active { background-color: #F0F7FF; border-left: 4px solid var(--studylink-blue); }

        .profile-circle {
            width: 45px; height: 45px; border-radius: 50%;
            margin-right: 12px; flex-shrink: 0; overflow: hidden; background: #eee;
        }
        .profile-circle img { width: 100%; height: 100%; object-fit: cover; }

        .room-text .name { font-weight: 700; font-size: 0.95rem; color: var(--studylink-navy); display: block; }
        .room-text .desc { font-size: 0.85rem; color: var(--text-gray); }

        /* 채팅창 */
        .chat-content { flex: 1; display: flex; flex-direction: column; position: relative; }
        #messages { flex: 1; padding: 25px; overflow-y: auto; list-style: none; margin: 0; }

        /* 대기 화면 그래픽 (이미지 f93367 반영) */
        .empty-state {
            position: absolute; top: 45%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center; width: 100%;
        }
        .icon-combination {
            position: relative; width: 120px; height: 80px; margin: 0 auto 20px;
        }
        .bubble-dark { position: absolute; font-size: 4rem; color: var(--icon-dark); left: 15px; bottom: 0; z-index: 1; }
        .bubble-green { position: absolute; font-size: 4rem; color: var(--icon-green); right: 15px; top: 0; z-index: 2; }
        .empty-state h3 { font-size: 1.4rem; color: #3A3F4B; margin-bottom: 8px; }
        .empty-state p { font-size: 1rem; color: #ADB5BD; }

        /* 입력창 */
        .input-area {
            padding: 20px; border-top: 1px solid var(--border-color);
            display: flex; gap: 10px;
        }
        #messageInput {
            flex: 1; padding: 12px 20px; border: 1px solid var(--border-color);
            border-radius: 30px; outline: none; background: #F8F9FA;
        }
        #btnSend {
            background-color: var(--studylink-blue); color: white; border: none;
            padding: 10px 25px; border-radius: 30px; cursor: pointer; font-weight: 700;
        }

        /* 메시지 풍선 (이미지 032049 반영) */
        .message-wrapper { display: flex; margin-bottom: 20px; width: 100%; }
        .message-wrapper.me { justify-content: flex-end; }
        .bubble-container { display: flex; align-items: flex-end; max-width: 75%; }
        .me .bubble-container { flex-direction: row-reverse; }
        .message-bubble { padding: 12px 18px; border-radius: 18px; font-size: 0.95rem; }
        .me .message-bubble { background: var(--studylink-blue); color: white; border-bottom-right-radius: 4px; }
        .info-container { display: flex; flex-direction: column; align-items: flex-end; margin: 0 8px; }
        .unread-indicator { font-size: 0.8rem; color: #FFD600; font-weight: 800; margin-bottom: 2px; }
        .message-time { font-size: 0.7rem; color: var(--text-gray); white-space: nowrap; }
    </style>
</head>
<body>

<header class="main-header">
    <div class="header-logo">
        <i class="fa-solid fa-book-open-reader"></i>
        <div>Study<span>Link</span></div>
        <div class="logo-dot"></div>
    </div>
    <nav class="header-nav">
        <i class="fa-regular fa-calendar-check"></i>
        <i class="fa-regular fa-comment-dots"></i>
        <i class="fa-regular fa-circle-user"></i>
    </nav>
</header>

<div class="wrapper">
    <div class="chat-container">
        <div class="chat-main">
            <aside class="chat-sidebar">
                <div class="sidebar-search">
                    <input id="otherUsername" placeholder="상대방 이름을 입력하세요" />
                    <button id="btnCreateRoom" onclick="createNewRoom()">대화 시작하기</button>
                </div>
                <ul class="room-list" id="roomList">
                    <li class="room-item active">
                        <div class="profile-circle"><img src="https://i.pravatar.cc/100?u=1"></div>
                        <div class="room-text">
                            <span class="name">김경현 선생님</span>
                            <span class="desc">새로운 메시지가 기다리고 있습니다.</span>
                        </div>
                    </li>
                </ul>
            </aside>
            <main class="chat-content">
                <ul id="messages">
                    <div class="empty-state" id="emptyState">
                        <div class="icon-combination">
                            <i class="fa-solid fa-comment bubble-dark"></i>
                            <i class="fa-solid fa-comment-dots bubble-green"></i>
                        </div>
                        <h3>이어가던 대화를 다시 시작해 볼까요?</h3>
                        <p>대화를 선택하고 자유롭게 이야기해 보세요.</p>
                    </div>
                </ul>
                <div class="input-area">
                    <input id="messageInput" placeholder="메시지를 입력하세요" />
                    <button type="button" id="btnSend" onclick="sendMessage()">전송</button>
                </div>
            </main>
        </div>
    </div>
</div>

<script>
    function getCurrentTime() {
        const now = new Date();
        return now.toLocaleTimeString('ko-KR', { hour: 'numeric', minute: '2-digit', hour12: true });
    }

    function createNewRoom() {
        const name = document.getElementById('otherUsername').value.trim();
        if(!name) return;
        const roomList = document.getElementById('roomList');
        const li = document.createElement('li');
        li.className = 'room-item active';
        li.innerHTML = `<div class="profile-circle"><img src="https://i.pravatar.cc/100?u=${Math.random()}"></div><div class="room-text"><span class="name">${name}</span><span class="desc">대화가 시작되었습니다.</span></div>`;
        roomList.prepend(li);
        document.getElementById('messageInput').value = "안녕하세요 수업에 관심 있어서 연락드렸습니다";
    }

    function sendMessage() {
        const input = document.getElementById('messageInput');
        const msg = input.value.trim();
        if(!msg) return;
        const messages = document.getElementById('messages');
        const div = document.createElement('li');
        div.className = 'message-wrapper me';
        div.innerHTML = `<div class="bubble-container"><div class="message-bubble">${msg}</div><div class="info-container"><span class="unread-indicator">1</span><span class="message-time">${getCurrentTime()}</span></div></div>`;
        messages.appendChild(div);
        input.value = '';
        document.getElementById('emptyState').style.display = 'none';
        messages.scrollTop = messages.scrollHeight;
    }
</script>

</body>
</html>